CREATE FUNCTION ZzEndOfWeek (@date DATE)
RETURNS DATE
AS
BEGIN
    RETURN DATEADD(wk, DATEDIFF(wk, 7, @date), 12)
END
GO
