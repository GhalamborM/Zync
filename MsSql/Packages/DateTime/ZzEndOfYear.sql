CREATE FUNCTION ZzEndOfYear (@date DATE)
RETURNS DATE
AS
BEGIN
    RETURN DATEFROMPARTS(YEAR(@date), 12, 31)
END
GO
